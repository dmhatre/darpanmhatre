<!DOCTYPE html>
<html>
  <head>
    <title>dmhatre :: AWS Elastic Beanstalk</title>
    <meta name="description" content="The personal website of Darpan Mhatre, a software evangelist who enjoys learning and implementing new technologies">
	<meta name="ROBOTS" content="INDEX, FOLLOW">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="Darpan Mhatre, serverless architecture, aws, amazon web services, elastic beanstalk, elasticbeanstalk, spring boot, spring boot with mysql, spring boot mysql, spring boot oauth2, spring boot with oauth2, oauth2, facebook oauth2, oauth, single sign on, sso, install node.js, create node.js server, use screen command, Java Servlet, Spring 4 MVC, Spring MVC, Spring, MVC, Tomcat, Tomcat 7, eclipse tomcat plugin">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"></link>
	<script src="../js/jquery-1.9.1.js" type="text/javascript"></script>
	<script src="../lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <style>
      .navbar-inverse {
    	background-color: #563D7C;
    	border-color: #563D7C;
      }
      .navbar-inverse .navbar-nav > .active > a, 
      .navbar-inverse .navbar-nav > .active > a:hover, 
      .navbar-inverse .navbar-nav > .active > a:focus {
    	background-color: #FF803E;
    	color: #FFFFFF;
      }
      .navbar-inverse .navbar-nav > .open > a, 
      .navbar-inverse .navbar-nav > .open > a:hover, 
      .navbar-inverse .navbar-nav > .open > a:focus {
     	background-color: #FF803E;
    	color: #FFFFFF;
      }
    </style>
    <script>
    /*    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-48004119-1', 'dmhatre.com');
    ga('send', 'pageview');*/
     var _gaq = _gaq || [];
     _gaq.push(['_setAccount', 'UA-48004119-1']);
     _gaq.push(['_setDomainName', 'none']);
     _gaq.push(['_setAllowLinker', true]);
     _gaq.push(['_trackPageview']);

     (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();
	</script>
  </head>
  <body style="background-color:#9AD2FF;">
    <div class="container-fluid">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Darpan Mhatre</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse navbar-ex1-collapse" style="padding-right:20px;">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/">Home</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Resume
              <b class="caret"></b></a>
              <ul class="dropdown-menu">
              	<li><a href="/downloadresume">Download Resume</a></li>
                <li><a href="/summary">Summary</a></li>
                <li><a href="/skills">Skills</a></li>
                <li><a href="/experience">Experience</a></li>
                <li><a href="/education">Education</a></li>
              </ul>
            </li>
            <li><a href="#myModal" data-toggle="modal">Video Resume</a></li>
            <li class="dropdown active">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/awselasticbeanstalk">AWS Elastic Beanstalk</a></li>
                <li><a href="/springbootmysql">Spring Boot with Mysql</a></li>
                <li><a href="/spring4mvc">Spring 4 MVC</a></li>
                <li><a href="/javaservlet">Java Servlet</a></li>
                <li><a href="/installnode">Installing nodejs on ubuntu 12</a></li>
                <li><a href="/createnodejsserver">Create simple nodejs server</a></li>
                <li><a href="/usescreen">Screen</a></li>
                <li><a href="/installredis">Install Redis</a></li>
                <li><a href="/springbootoauth2">Spring Boot with OAuth2</a></li>
              </ul>
            </li>
            <li><a href="/contactinfo">Contact Info</a></li>
            <li><a href="/d3jsdemo">Demo d3js</a></li>
          </ul>
        </div><!-- /.navbar-collapse -->
    </nav>
    <div class="row" style="padding-top:51px;">
    	<div class="col-md-1"></div>
    	<div class="col-md-10">
        <h2>The following step-by-step tutorial will guide you to deploy a simple web application built with spring boot and MySQL to amazon web services Elastic Beanstalk, a serverless architecture</h2>
        <h4>Note</h4>
       	<ul>
           <li>This tutorial assumes you have created a deployable using spring-boot. If not please refer to my previous tutorial <a href="/springbootmysql">here</a></li>
        </ul>
        <h3>1&#93; Procfile</h3>
        <ul>
        	<li>Lets create Procfile file under src&#47;main&#47;resources. The container will look for the exact file to run the commands in this case running application.jar</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step1-1.png" width="100%" height="100%" />
		<div style="height:20px;"></div>
		<p>Amazon web services elastic beanstalk will look for config.yml file under resources/.elasticbeanstalk folder</p>
		<p>To be able to see the &#46;&#42; files which are hidden in eclipse, click on caret in the Package Explorer &#45;&#62; Filters and then uncheck &#46;&#42; resources and then click OK</p>
		<img src="../img/awselasticbeanstalk/step1-2.png" width="100%" height="100%" />
		<div style="height:20px;"></div>
		<img src="../img/awselasticbeanstalk/step1-3.png" width="100%" height="100%" />
		<ul>
			<li>Now create .elasticbeanstalk folder under resources and then create config.yml file. This helps to deploy the application to elasatic beanstalk</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step1-4.png" width="100%" height="100%" />
		<ul>
			<li>Now build the project and expand target directory, where you should see application-0.0.1-SNAPSHOT.jar</li>
			<li>Lets rename this to application.jar and we are ready with the application package to deploy</li>
		</ul>
		<h3>2&#93; Deploy on Amazon Web Services Elastic Beanstalk</h3>
		<ul>
		<li>Sign in to Amazon Web Services console and under services click Elastic Beanstalk</li>
		<li>Click on Create New Application on top right corner</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step2-1.png" width="100%" height="100%" />
		<ul>
		<li>Enter the application name example spring-boot-mysql and click Next</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step2-2.png" width="100%" height="100%" />
		<ul>
		<li>Now click on Create Web Server</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step2-3.png" width="100%" height="100%" />
		<ul>
		<li>Then under Environment Type select Java as Predefined configuration as we are going to run application.jar as a java application &#40;we can also create war file instead and deploy it by selecting tomcat instead, but this is out of scope of this tutorial&#41;</li>
		<li>Select Single instance for this tutorial or Dev environment</li>
		<li>You can select load balancing and auto scale for production environment</li>
		<li>Click Next</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step2-4.png" width="100%" height="100%" />
		<ul>
		<li>Under application version select upload your own and browse and select the application.jar from your local computer that we just created under Target directory and then click next. It will take a while to come up</li>
		<li>Once it comes up click on check availability to see if the environment URL is not taken already</li>
		<li>Click Next</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step2-5.png" width="100%" height="100%" />
		<p>For this tutorial I already had mysql instance running on Amazon Web Services RDS, which I am using so I wont be creating an RDS in this wizard</p>
		<ul><li>Click Next</li></ul>
		<img src="../img/awselasticbeanstalk/step2-6.png" width="100%" height="100%" />
		<ul>
		<li>Under Configuration Details select Instance type t1.micro for this tutorial. And EC2 key pair that I had already created</li>
		<li>Click Next</li>
		</ul>
		<img src="../img/awselasticbeanstalk/step2-7.png" width="100%" height="100%" />
		<ul>
		<li>Environment Tags keep it empty for this tutorial</li>
		<li>Click Next</li>
		<li>Default selections under Permissions</li>
		<li>Click Next</li>
		<li>Review</li>
		<li>Click Launch</li>
		</ul>
		<p>It should come up with Health OK</p>
		<img src="../img/awselasticbeanstalk/step2-8.png" width="100%" height="100%" />
		<ul>
		<li>Now Click on the URL on Top right corner of this page and then followed by &#47;hello</li>
		<li>http:&#47;&#47;springbootmysql-env.us-west-2.elasticbeanstalk.com&#47;hello</li>
		</ul>
		<p>And you should see the message. Voila!</p>
		<img src="../img/awselasticbeanstalk/step2-9.png" width="100%" height="100%" />
		</div>
        <div class="col-md-1"></div>
    </div>
    </div>
    <div id="myModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Video Resume</h4>
                </div>
                <div class="modal-body">
                    <p>Coming soon, Keep watching this space.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>